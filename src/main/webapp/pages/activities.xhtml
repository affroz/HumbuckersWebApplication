<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:humbuckers="http://com.is.faces/ui">


	<div class="card">
		<div class="header">
			<h3 class="title">Project Activities</h3>
		</div>
		<div class="content">
			<div class="row">
				<div class="col-md-12">
					<p:treeTable value="#{projectBean.activityBean.root}" var="document"
						selectionMode="checkbox" selection="#{projectBean.activityBean.selectedNodes}"
						id="treeId" >
						
						
						<p:column headerText="Select Activities">
                            <p:outputLabel value="#{document.activityName}" />
								
									<p:commandLink oncomplete="PF('documentDialog').show()"
										update="documentDialog,:documentDialog" class="pull-right">
										<f:setPropertyActionListener value="#{document}"
											target="#{projectBean.activityBean.selectedActivity}" />
										<i class="pe-7s-plus"></i>
									</p:commandLink>
								


						</p:column>
						<p:column >
                             <h:panelGroup  rendered="#{document.activityType eq '2'}" >
	                             <div class="row" >
									
									<div class="col-md-6">
										<p:calendar value="#{document.activityPlannedStartDate}" placeholder="Planned Start Date"
											class="form-control mycalendar" pattern="dd-MMM-yyyy" />
									</div>
									<div class="col-md-6">
										<p:calendar value="#{document.activityPlannedEndDate}" placeholder="Planned End Date"
											class="form-control mycalendar" pattern="dd-MMM-yyyy" />
									</div>
									</div>
									 <div class="row" >
									<div class="col-md-6">
										<p:calendar value="#{document.activityAcutalStartDate}" placeholder="Actual Start Date"
											class="form-control mycalendar" pattern="dd-MMM-yyyy" />
									</div>
									<div class="col-md-6"> 
										<p:calendar value="#{document.activityActualEndDate}" placeholder="Actual End Date"
											class="form-control mycalendar" pattern="dd-MMM-yyyy" />
									</div>
									
								</div>
                             
                             </h:panelGroup>
							


						</p:column>



					</p:treeTable>
				</div>
			</div>





		</div>
		<p:commandButton value="Save Project"
			action="#{projectBean.saveProject}" ajax="false"
			class="btn btn-info btn-fill pull-right" update="@form" />
		<p:commandButton value="Back" action="#{projectBean.onClickofBack}"
			ajax="false" class="btn btn-info btn-fill" update="@form" />
		<div class="clearfix"></div>
	</div>


	<p:dialog header="Activity Name" widgetVar="documentDialog"
		minHeight="40" id="documentDialog">
		<p:inputText value="#{projectBean.activityBean.newactivityname}" />

		<p:commandButton value="Save Activity"
			action="#{projectBean.activityBean.saveNewActivity}" ajax="false"
			class="btn btn-info btn-fill pull-right"
			update="projectdetailsform,:projectdetailsform,treeId,:treeId" />
	</p:dialog>


</ui:composition>
