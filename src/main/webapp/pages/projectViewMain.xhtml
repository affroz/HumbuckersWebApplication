<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:humbuckers="http://com.is.faces/ui" template="template.xhtml">
	<ui:define name="content">
	
		<h:form prependId="false">

			<div class="dashboard">
				<div class="ui-g-12 activity-feed">

					<div class="ui-g">
						<div class="ui-g-12 ui-md-3">
							<span>Engineering</span>
							<div class="knob income">#{projectViewBean.engweight}%</div>
						</div>
						<div class="ui-g-12 ui-md-3">
							<span>Procurement</span>
							<div class="knob tax">#{projectViewBean.procweight}%</div>
						</div>
						<div class="ui-g-12 ui-md-3">
							<span>Construction</span>
							<div class="knob invoice">#{projectViewBean.constweight}%</div>
						</div>
						<div class="ui-g-12 ui-md-3">
							<span>Testing and Commisioning</span>
							<div class="knob expense">#{projectViewBean.testweight}%</div>
						</div>
					</div>
				</div>

			</div>


			<div class="ui-g-12">
				<div class="card card-w-title">
				<h1>WBS and Activities</h1>

					<p:panel style="height:300px;overflow-y: scroll;border:none;">
					<p:tree value="#{projectBean.projectViewBean.root}" var="node"
						orientation="horizontal" styleClass="mytreehor">
						<p:treeNode styleClass="main">
							<p:outputLabel value="#{node}" />
						</p:treeNode>
						<p:treeNode type="engineering" styleClass="engineering">
							<h:outputText value="#{node.activityName}" />
						</p:treeNode>
						<p:treeNode type="procurement" styleClass="procurement">
							<h:outputText value="#{node.activityName}" />
						</p:treeNode>
						<p:treeNode type="construction" styleClass="construction">
							<h:outputText value="#{node.activityName}" />
						</p:treeNode>
						<p:treeNode type="testing" styleClass="testing">
							<h:outputText value="#{node.activityName}" />
						</p:treeNode>
					</p:tree>
					</p:panel>
				</div>
			</div>

			<div class="ui-g-12">
				<div class="card card-w-title">
					<h1>Activities timeline</h1>

					<p:panel style="height:300px;overflow-y: scroll;">

						<p:treeTable value="#{projectBean.projectViewBean.root}"
							var="document" id="treePnl" orientation="horizontal">



							<p:columnGroup type="header">
								<p:row>
									<p:column rowspan="2" colspan="3" headerText="" />
									<p:column colspan="2" headerText="Planned Dates" />
									<p:column colspan="2" headerText="Actual Dates" />
									<p:column rowspan="2" headerText="Remark" />
								</p:row>



								<p:row>
									<p:column headerText="Start" />
									<p:column headerText="End" />
									<p:column headerText="Start" />
									<p:column headerText="End" />
								</p:row>
							</p:columnGroup>



							<p:column colspan="3">
								<p:outputLabel value="#{document.activityName}"
									style="#{document.activityCode eq 0 ? 'font-size: 19px;color: #1976d2;':''}" />
							</p:column>
							<p:column>

								<p:outputLabel value="#{document.activityPlannedStartDate}"
									class="form-control ">
									<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
								</p:outputLabel>


							</p:column>
							<p:column>

								<p:outputLabel value="#{document.activityPlannedEndDate}"
									class="form-control ">
									<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
								</p:outputLabel>


							</p:column>
							<p:column>

								<p:outputLabel value="#{document.activityAcutalStartDate}"
									class="form-control ">
									<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
								</p:outputLabel>


							</p:column>
							<p:column>

								<p:outputLabel value="#{document.activityActualEndDate}"
									class="form-control ">
									<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
								</p:outputLabel>


							</p:column>

							<p:column>




							</p:column>
						</p:treeTable>



					</p:panel>
				</div>
			</div>


		</h:form>
	</ui:define>
</ui:composition>
